# 문제은행시스템 시스템 요구사항 정의서 (MVP)

문서번호: QB-SRS-MVP-001  
버전: v1.0  
작성일: 2026-01-26  
작성자: (작성자명)  
검토자: (검토자명)  
승인자: (승인자명)

---

## 변경 이력

| 버전 | 일자 | 변경 내용 | 작성자 |
|---:|---|---|---|
| 1.0 | 2026-01-26 | MVP 기준 최초 작성 | (작성자명) |

---

## 1. 문서 개요

### 1.1 목적
본 문서는 문제은행시스템의 **시스템 요구사항(SRS)** 을 표준 형식으로 정의한다.  
범위는 **MVP 수준(최소 기능 제품)** 을 기준으로 하며, 상세 컬럼/ERD/정밀 데이터 사양은 별도 문서로 분리한다.

### 1.2 범위
- 시험 운영을 위한 **문항의 출제 → 검토 → 선정 → 시험지 구성 → 문항 관리** 전 과정을 최소 기능으로 지원
- **역할 기반 접근제어(RBAC)**, **의뢰 기반 업무(위원은 본인 할당 건만)**, **분류 트리 기반 조회·관리**, **시험지 편성**을 필수로 포함

### 1.3 대상 독자
- 발주/운영 담당(업무 오너), 기획/PM, 개발(백/프론트), QA, 운영/보안 담당

### 1.4 용어 정의
| 용어 | 정의 |
|---|---|
| 계획(Plan) | 출제/검토/선정 업무의 운영 단위(기간/대상/규칙 포함) |
| 의뢰(Request) | 계획 기반으로 위원에게 할당되는 작업 단위 |
| 수행(Work/Submission) | 위원이 의뢰에 대해 작성·제출하는 결과물 |
| 분류(Classification) | 단계형 트리 구조의 분류체계(레벨 1~N) |
| 문항(Question) | 문제/지문/보기/정답·해설/첨부 등으로 구성되는 콘텐츠 |
| 시험지(Paper) | 시험 운영 단위. 문항을 편성해 확정본을 생성 |

### 1.5 비범위(이번 문서에서 다루지 않음)
- 상세 DB 컬럼/정규화/인덱스 설계(별도 ERD/데이터 사양서)
- 출력 포맷 다변화, 고급 통계/분석, 알림(메일/쪽지), SSO 연동(후속)

---

## 2. 시스템 개요

### 2.1 시스템 목표
- 문항 운영 프로세스를 표준화하고 **권한 기반으로 업무를 분리**하여 보안/추적성/품질을 확보한다.
- MVP 단계에서는 “운영이 가능한 최소 기능”을 안정적으로 제공한다.

### 2.2 사용자 역할
- **관리자(운영자)**: 계획 수립/확정/마감, 의뢰 생성·발송·회수(옵션)·마감, 진행 현황 집계, 문항/분류/시험지/시스템 설정
- **위원**: 본인에게 할당된 의뢰에 대해서만 출제/검토/선정 수행 및 제출

### 2.3 상위 기능 목록(요약)
- 공통: 로그인/로그아웃/마이페이지, 공통 목록(검색/정렬/페이징), 첨부, 작업로그
- 관리자: 출제/검토/선정(계획/의뢰/현황), 시험지관리, 문제관리, 시스템관리(사용자/로그/공통코드/분류)
- 위원: 출제하기/검토하기/선정하기

---

## 3. 접근/권한 요구사항(RBAC)

### 3.1 권한 원칙
- 모든 화면/버튼/기능/API는 **RBAC** 적용
- 위원 데이터 범위는 **본인 할당 건만** (서버에서 최종 검증)

### 3.2 요구사항
- **SEC-FR-001** 메뉴 노출은 역할 기반으로 제어한다. (MVP-필수)
- **SEC-FR-002** API 호출은 역할 기반으로 허용/차단한다. (MVP-필수)
- **SEC-FR-003** 위원은 본인 할당 의뢰 외 데이터에 대해 조회/수정/다운로드가 불가하다. (MVP-필수)
- **SEC-FR-004** 파라미터 변조/직접 URL 접근으로도 권한 우회가 불가해야 한다. (MVP-필수)

수용기준(예)
- 위원 계정이 타 위원 의뢰 ID로 상세 조회 시 403(또는 공통 fail) 응답
- UI에서 버튼이 숨겨져도 API가 차단되어야 함(서버가 기준)

---

## 4. 상태/워크플로우 요구사항

### 4.1 공통 흐름
계획 → 의뢰 → 수행/제출 → 현황 집계

### 4.2 상태 정의(최소 세트)
- 계획: 작성중 / 확정 / 마감
- 의뢰: 미발송 / 발송 / 진행중 / 마감
- 수행(제출물): 미작성 / 임시저장 / 제출 / 반려 / 완료

### 4.3 상태 전이 규칙(최소)
- **WF-FR-001** 확정된 계획에서만 의뢰 생성이 가능하다. (MVP-필수)
- **WF-FR-002** 의뢰 발송 이후 위원은 임시저장/제출을 수행할 수 있다. (MVP-필수)
- **WF-FR-003** 반려된 수행물은 재수정/재제출이 가능하다. (MVP-필수)
- **WF-FR-004** 마감 이후 위원은 수정/제출이 불가하다. (MVP-필수)
- **WF-FR-005** 확정본(시험지 등)은 잠금되며 편집이 불가하다. (MVP-필수)

---

## 5. 기능 요구사항(Functional Requirements)

요구사항 표기:
- FR: 기능 요구사항
- SEC-FR: 보안/권한 기능 요구사항
- WF-FR: 상태/워크플로우 기능 요구사항
- NFR: 비기능 요구사항(섹션 10)

각 요구사항은 “MVP-필수 / MVP-선택”으로 우선순위를 표시한다.

---

### 5.1 공통 기능

#### 5.1.1 로그인/로그아웃
- **FR-COM-001** 아이디/비밀번호 기반 로그인을 제공한다. (MVP-필수)
- **FR-COM-002** 로그인 성공 시 역할별 초기 화면으로 이동한다. (MVP-필수)
- **FR-COM-003** 로그인 실패 안내 문구는 보안 정책에 따라 단순화한다. (MVP-필수)
- **FR-COM-004** 로그인 실패 횟수 초과 시 계정을 잠금 처리한다(정책값). (MVP-필수)
- **FR-COM-005** 세션 타임아웃(미사용 시간 기준)을 적용한다. (MVP-필수)
- **FR-COM-006** 로그아웃 시 세션/토큰을 무효화한다. (MVP-필수)
- **FR-COM-007** 로그인 성공/실패/잠금/로그아웃 이력을 기록한다. (MVP-필수)

수용기준(예)
- 실패 횟수 N회 초과 시 즉시 잠금, 관리자 초기화 전 로그인 불가
- 타임아웃 후 자동 로그아웃 및 로그인 화면 이동

#### 5.1.2 마이페이지
- **FR-COM-010** 내 정보 조회를 제공한다. (MVP-필수)
- **FR-COM-011** 비밀번호 변경을 제공한다(SSO 사용 시 비활성 가능). (MVP-필수)
- **FR-COM-012** 개인정보/비밀번호 변경은 작업로그에 기록한다. (MVP-필수)

#### 5.1.3 공통 목록/검색
- **FR-COM-020** 모든 목록은 페이징을 지원한다. (MVP-필수)
- **FR-COM-021** 정렬/필터/키워드 검색을 제공한다(화면별 최소 조건). (MVP-필수)
- **FR-COM-022** 관리자는 목록을 엑셀로 내보낼 수 있다(권한/보안 정책 적용). (MVP-선택)

#### 5.1.4 첨부/파일
- **FR-COM-030** 계획/의뢰/문항/시험지/양식에 파일 첨부를 지원한다(최소: 문항, 시험지부터). (MVP-필수)
- **FR-COM-031** 업로드 확장자/용량 제한 정책을 적용한다. (MVP-필수)
- **FR-COM-032** 다운로드 권한을 통제한다(관리자/해당 의뢰 위원 등). (MVP-필수)

---

### 5.2 관리자 기능

#### 5.2.1 출제관리
- **FR-ADM-MAKE-001** 출제계획 등록/수정/삭제/조회 및 확정/마감을 지원한다. (MVP-필수)
- **FR-ADM-MAKE-002** 출제계획 기반 의뢰 생성(개별/일괄)을 지원한다. (MVP-필수)
- **FR-ADM-MAKE-003** 의뢰 발송/마감(회수는 선택)을 지원한다. (MVP-필수)
- **FR-ADM-MAKE-004** 제출물 반려(사유 포함) 및 재요청 흐름을 제공한다. (MVP-필수)
- **FR-ADM-MAKE-005** 출제현황을 계획별/위원별로 집계한다. (MVP-필수)

#### 5.2.2 검토관리
- **FR-ADM-REV-001** 검토계획 등록/확정/마감을 지원한다. (MVP-필수)
- **FR-ADM-REV-002** 검토 의뢰 생성/발송 및 결과 수집을 지원한다. (MVP-필수)
- **FR-ADM-REV-003** 검토현황(진행률/결과 분포 최소)을 제공한다. (MVP-필수)

#### 5.2.3 선정관리
- **FR-ADM-SEL-001** 선정계획 등록/확정/마감을 지원한다. (MVP-필수)
- **FR-ADM-SEL-002** 선정 의뢰 생성/발송 및 결과 수집(선정/예비/제외+사유)을 지원한다. (MVP-필수)
- **FR-ADM-SEL-003** 선정현황(완료율, 계획 대비 충족률 최소)을 제공한다. (MVP-필수)
- **FR-ADM-SEL-004** 중복 선정 방지 규칙을 적용한다(최소: 동일 시험지/동일 선정 작업 내 중복 방지). (MVP-선택)

#### 5.2.4 시험지관리
- **FR-ADM-PAPER-001** 시험지 생성/편집/삭제(논리삭제 권장)를 지원한다. (MVP-필수)
- **FR-ADM-PAPER-002** 문항 편성(추가/삭제/순서변경/교체/예비)을 지원한다. (MVP-필수)
- **FR-ADM-PAPER-003** 시험지 확정 및 확정본 잠금을 지원한다. (MVP-필수)
- **FR-ADM-PAPER-004** 시험지 내보내기/출력을 최소 1개 포맷으로 제공한다. (MVP-선택)
- **FR-ADM-PAPER-005** 내보내기/다운로드는 작업로그로 기록한다. (MVP-필수)

#### 5.2.5 문제관리(문항 마스터)
- **FR-ADM-Q-001** 문항 등록/수정/조회/삭제(논리삭제 중심)를 지원한다. (MVP-필수)
- **FR-ADM-Q-002** 문항 상태(최소 세트)를 관리한다. (MVP-필수)
- **FR-ADM-Q-003** 문항 변경 이력과 감사 로그를 기록한다(최소: 누가/언제/무엇을). (MVP-필수)
- **FR-ADM-Q-004** 분류 트리 기반 분류 선택/매핑을 제공한다. (MVP-필수)
- **FR-ADM-Q-005** 문항 목록 검색/필터(분류/하위포함/키워드/상태/난이도/유형/기간)를 제공한다. (MVP-필수)
- **FR-ADM-Q-006** 문항 목록 엑셀 내보내기(관리자)를 제공한다. (MVP-선택)

#### 5.2.6 시스템관리(최소)
- **FR-ADM-SYS-001** 사용자관리(운영자/위원 탭): 등록/수정/비활성/비밀번호 초기화를 지원한다. (MVP-필수)
- **FR-ADM-SYS-002** 운영자 권한은 메뉴 단위로 최소 분리(조회/편집 등)할 수 있다(정책). (MVP-선택)
- **FR-ADM-SYS-003** 시스템작업로그 조회(기간/사용자/메뉴/유형 등 최소 조건)를 제공한다. (MVP-필수)
- **FR-ADM-SYS-004** 공통코드 관리(필요한 코드 그룹만) CRUD를 제공한다. (MVP-선택)

---

### 5.3 위원 기능

#### 5.3.1 출제하기
- **FR-MEM-MAKE-001** 본인 출제 의뢰 목록을 조회한다. (MVP-필수)
- **FR-MEM-MAKE-002** 문항 작성(임시저장/제출)을 지원한다. (MVP-필수)
- **FR-MEM-MAKE-003** 반려 사유 확인 및 재제출을 지원한다. (MVP-필수)

#### 5.3.2 검토하기
- **FR-MEM-REV-001** 본인 검토 의뢰 목록을 조회한다. (MVP-필수)
- **FR-MEM-REV-002** 검토 결과(통과/수정필요/부적합) 및 의견 제출을 지원한다. (MVP-필수)

#### 5.3.3 선정하기
- **FR-MEM-SEL-001** 본인 선정 의뢰 목록을 조회한다. (MVP-필수)
- **FR-MEM-SEL-002** 선정/예비/제외 처리 및 사유 제출을 지원한다. (MVP-필수)

---

## 6. 분류(단계형 트리) 정책 요구사항

### 6.1 트리 관리
- **FR-CLS-001** 분류체계는 레벨 1~N단계를 지원한다. (MVP-필수)
- **FR-CLS-002** 트리 조회 방식은 “전체 조회(소규모)” 또는 “지연 로딩(대규모)” 중 1개 이상 제공한다. (MVP-필수)
- **FR-CLS-003** 분류 등록/수정/비활성(논리삭제)을 지원한다. (MVP-필수)
- **FR-CLS-004** 분류 검색(명/코드) 시 트리 하이라이트 및 노드 이동을 지원한다. (MVP-필수)

### 6.2 코드/정렬 정책
- **FR-CLS-010** 신규 분류 코드는 동일 부모/레벨 내 최대 세그먼트 + 1로 발번한다. (MVP-필수)
- **FR-CLS-011** 결번은 재사용하지 않는다. (MVP-필수)
- **FR-CLS-012** 정렬키(sortKey)는 제로패딩을 적용해 문자열 정렬이 숫자 정렬과 동일해지도록 한다. (MVP-필수)

### 6.3 변경/삭제 제한
- **FR-CLS-020** 하위 분류가 존재하면 삭제를 제한하고 비활성으로 대체한다. (MVP-필수)
- **FR-CLS-021** 문항 매핑이 존재하는 분류의 부모 변경은 기본 제한한다. (MVP-필수)

---

## 7. 문제관리 화면 요구사항(와이어 수준)

### 7.1 레이아웃
- 좌측: 분류 트리(검색, 펼침/접힘, 비활성 표시)
- 우측: (상단) 검색조건 → (중단) 문항 목록 → (하단/패널) 문항 상세/편집

### 7.2 핵심 동작
- **UI-FR-001** 트리 노드 선택 시 우측 목록이 자동 필터링된다(하위 포함 기본 ON 권장). (MVP-필수)
- **UI-FR-002** “문제등록” 시 트리 선택 분류가 기본값으로 반영된다. (MVP-필수)
- **UI-FR-003** 미저장 상태에서 이동/닫기 시 경고를 제공한다. (MVP-필수)
- **UI-FR-004** 비활성 분류는 신규 등록에서 선택 제한(정책) 및 트리에서 구분 표시한다. (MVP-필수)

---

## 8. API 요구사항(최소 목록)

### 8.1 공통 응답 래퍼
- result: success | fail (필수)
- message: 사용자 안내 메시지
- errorMessage: 시스템 메시지(정책에 따라 비노출 가능)
- data: 결과 데이터

### 8.2 분류 API
- **API-CLS-001** GET /api/classifications/tree  
  Query: useYn(Y/N/ALL), maxDepth(옵션)
- **API-CLS-002** GET /api/classifications/children  
  Query: parentId, useYn(Y/N/ALL)
- **API-CLS-003** GET /api/classifications/search  
  Query: q(명/코드), useYn(Y/N/ALL)

### 8.3 문항 API
- **API-Q-001** GET /api/questions  
  Query: clsId, includeDescendants(true/false, default true), keyword, status(다중 가능), difficulty, type, page, size, sort
- **API-Q-002** GET /api/questions/{questionId}

### 8.4 옵션 API
- **API-CLS-010** GET /api/classifications/question-counts  
  Query: parentId(옵션), includeDescendants

---

## 9. 감사/로그 요구사항

- **LOG-FR-001** 주요 행위(등록/수정/삭제/상태변경/내보내기/다운로드)는 작업로그로 기록한다. (MVP-필수)
- **LOG-FR-002** 로그인 성공/실패/잠금/로그아웃을 기록한다. (MVP-필수)
- **LOG-FR-003** 로그 조회 조건(기간/사용자/메뉴/작업유형 등 최소)을 제공한다. (MVP-필수)

---

## 10. 비기능 요구사항(Non-Functional Requirements)

### 10.1 보안(NFR-SEC)
- **NFR-SEC-001** 모든 민감 데이터 접근은 서버에서 권한 검증한다.
- **NFR-SEC-002** 비밀번호는 안전한 해시(예: bcrypt/argon2)로 저장한다.
- **NFR-SEC-003** 파일 다운로드는 권한 체크 후 제공한다.
- **NFR-SEC-004** 문항 본문/해설 입력에 대한 XSS 방어 정책을 적용한다(허용 태그/필터링 등).
- **NFR-SEC-005** 작업로그는 위변조 방지 정책(권한 제한/보관 기간)을 적용한다.

### 10.2 성능(NFR-PERF)
- **NFR-PERF-001** 목록 API는 페이징을 필수로 하며, 기본 응답시간 목표를 정의한다(예: 95% 2초 이내, 환경에 따라 조정).
- **NFR-PERF-002** 분류 트리는 대규모를 고려하여 지연 로딩 방식을 지원할 수 있다(선택).
- **NFR-PERF-003** 검색/필터 조건은 인덱스/캐시 등으로 운영 가능한 수준의 응답성을 확보한다.

### 10.3 가용성/복구(NFR-OPS)
- **NFR-OPS-001** 장애 발생 시 로그로 원인 추적이 가능해야 한다.
- **NFR-OPS-002** 백업/복구 정책(주기/보관/복원 절차)은 운영 문서로 정의한다(별도 문서 가능).

### 10.4 호환성/운영(NFR-COMP)
- **NFR-COMP-001** 지원 브라우저/런타임 범위를 정의한다(예: 최신 Chrome/Edge 기준 등).
- **NFR-COMP-002** 시간/타임존은 운영 기준(예: Asia/Seoul)으로 일관 처리한다.

---

## 11. 제외 범위 및 향후 확장(Backlog)
- SSO 연동, 알림(메일/쪽지)
- 고급 통계(사유 분포, 대시보드 고도화)
- 시험지 출력 포맷 다변화
- 분류 부모 변경 허용(허용 시 코드/경로 재계산 및 이력 필수)
- 문항-분류 다중 매핑(옵션)

---

## 12. 요구사항 추적(요약)
- RBAC: SEC-FR-001~004 → 관리자/위원 모든 화면/API
- 워크플로우: WF-FR-001~005 → 계획/의뢰/수행/시험지 확정
- 핵심 도메인: FR-ADM-*, FR-MEM-*, FR-CLS-* → MVP 기능 범위

---

## 부록 A. 공통코드(예시, 운영에 맞게 확정)
- 문항 상태 코드(작성중/제출/검토통과/수정필요/부적합/선정/사용/폐기)
- 난이도 코드(상/중/하 또는 1~5)
- 문항 유형 코드(객관식/주관식 등)
- 의뢰/계획 상태 코드

(끝)
