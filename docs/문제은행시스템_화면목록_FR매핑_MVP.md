# 문제은행시스템 화면목록 및 FR(Functional Requirement) 매핑 (MVP)

> 기준: 이전에 정리한 **문제은행시스템 MVP 요구사항**(출제/검토/선정/시험지/문항/분류/RBAC/로그)
>
> 표기 규칙
> - **SCR-xxx**: 화면 ID
> - **FR-xx**: 기능요구사항 ID
> - URL/Route는 권장안(프로젝트에 맞게 변경 가능)

---

## 1. FR(기능 요구사항) 목록 (MVP)

| FR ID | 기능요구사항(요약) |
|---|---|
| FR-01 | 인증/인가 공통: 세션/토큰, 권한(RBAC) 기반 메뉴·API 접근제어 |
| FR-02 | 로그인: 아이디/비밀번호, 실패 정책(잠금/메시지 단순화), 세션 타임아웃 |
| FR-03 | 로그아웃: 수동/자동 로그아웃 처리, 세션 무효화 |
| FR-04 | 마이페이지: 내 정보 조회, 비밀번호 변경 |
| FR-05 | 계획 공통 CRUD: 출제/검토/선정 계획 등록·수정·삭제·조회 |
| FR-06 | 계획 상태: 작성중/확정/마감 + 상태별 잠금(수정 제한) |
| FR-07 | 의뢰 공통 생성/배정: 계획 기반 의뢰 생성(개별/일괄), 위원 배정/조정 |
| FR-08 | 의뢰 상태/운영: 발송/진행/마감(회수는 옵션), 마감 후 제출/수정 제한 |
| FR-09 | 위원 수행: 임시저장/제출(출제/검토/선정 각각) |
| FR-10 | 반려/재제출: 반려 사유 기록/열람, 재수정/재제출 |
| FR-11 | 현황/집계: 계획별·위원별 진행률(제출/반려/완료 등 최소 지표) |
| FR-12 | 문항 마스터: 문항 등록/수정/조회/논리삭제, 상태 관리, 이력/로그 |
| FR-13 | 분류 트리: 트리 조회/검색, 등록/수정/비활성, 코드발번/정렬키 정책 |
| FR-14 | 시험지: 시험지 생성/편집/확정(잠금), 문항 편성(순서/교체/예비) |
| FR-15 | 내보내기: 시험지 출력/내보내기(최소 1개 포맷), 관리자 엑셀 내보내기 |
| FR-16 | 첨부파일: 업로드/다운로드, 확장자/용량 제한, 권한 통제 |
| FR-17 | 감사/작업로그: 등록/수정/삭제/상태변경/다운로드/내보내기 등 기록 및 조회 |
| FR-18 | 사용자관리: 운영자/위원 등록·수정·비활성, 비밀번호 초기화(또는 SSO 연동) |
| FR-19 | 공통코드: 코드그룹/상세코드 CRUD(운영에 필요한 범위) |
| FR-20 | 목록 공통: 페이징/정렬/필터(상태/기간/키워드), 검색조건 유지 |

---

## 2. 화면목록 (MVP)

### 2.1 공통(전 권한)
| SCR ID | 화면명 | Role | URL/Route(권장) | 주요 기능(요약) | 매핑 FR |
|---|---|---|---|---|---|
| SCR-001 | 로그인 | 공통 | /login | 로그인/잠금/타임아웃 정책 | FR-01, FR-02, FR-17 |
| SCR-002 | 로그아웃(동작) | 공통 | /logout | 로그아웃 처리(수동/자동) | FR-03, FR-17 |
| SCR-003 | 마이페이지 | 공통 | /mypage | 내정보/비밀번호 변경 | FR-04, FR-17 |

### 2.2 관리자(운영자)

#### A) 출제관리
| SCR ID | 화면명 | URL/Route(권장) | 주요 기능(요약) | 매핑 FR |
|---|---|---|---|---|
| SCR-101 | 출제계획관리 | /admin/make/plans | 계획 CRUD, 확정/마감 | FR-01, FR-05, FR-06, FR-20, FR-17 |
| SCR-102 | 출제의뢰관리 | /admin/make/requests | 의뢰 생성/배정/발송/마감, 반려 | FR-01, FR-07, FR-08, FR-10, FR-20, FR-17 |
| SCR-103 | 출제현황 | /admin/make/status | 진행률/지표 집계(계획/위원) | FR-01, FR-11, FR-20 |

#### B) 검토관리
| SCR ID | 화면명 | URL/Route(권장) | 주요 기능(요약) | 매핑 FR |
|---|---|---|---|---|
| SCR-111 | 검토계획관리 | /admin/review/plans | 계획 CRUD, 확정/마감 | FR-01, FR-05, FR-06, FR-20, FR-17 |
| SCR-112 | 검토의뢰관리 | /admin/review/requests | 대상 선정/의뢰 발송/마감, 반려 | FR-01, FR-07, FR-08, FR-10, FR-20, FR-17 |
| SCR-113 | 검토현황 | /admin/review/status | 진행률/결과 집계 | FR-01, FR-11, FR-20 |

#### C) 선정관리
| SCR ID | 화면명 | URL/Route(권장) | 주요 기능(요약) | 매핑 FR |
|---|---|---|---|---|
| SCR-121 | 선정계획관리 | /admin/select/plans | 계획 CRUD, 확정/마감 | FR-01, FR-05, FR-06, FR-20, FR-17 |
| SCR-122 | 선정의뢰관리 | /admin/select/requests | 후보풀 제공, 선정/예비/제외, 사유 | FR-01, FR-07, FR-08, FR-09, FR-20, FR-17 |
| SCR-123 | 선정현황 | /admin/select/status | 완료율/충족률(기본지표) | FR-01, FR-11, FR-20 |

#### D) 시험지관리
| SCR ID | 화면명 | URL/Route(권장) | 주요 기능(요약) | 매핑 FR |
|---|---|---|---|---|
| SCR-131 | 시험지관리 | /admin/test/papers | 시험지 CRUD, 문항편성, 확정(잠금), 내보내기 | FR-01, FR-14, FR-15, FR-16, FR-20, FR-17 |
| SCR-132 | 시험지양식관리(옵션/MVP 최소) | /admin/test/templates | 양식 등록/조회(버전은 후순위) | FR-01, FR-16, FR-20, FR-17 |

#### E) 문제관리
| SCR ID | 화면명 | URL/Route(권장) | 주요 기능(요약) | 매핑 FR |
|---|---|---|---|---|
| SCR-141 | 문제관리(좌트리/우목록/상세) | /admin/questions | 분류 선택→목록 필터, 문항 CRUD/상태/이력, 첨부 | FR-01, FR-12, FR-13, FR-16, FR-20, FR-17, FR-15(엑셀) |
| SCR-142 | 문제현황(옵션/MVP 최소) | /admin/questions/status | 분류/상태/난이도 기본 집계 | FR-01, FR-11, FR-20 |

#### F) 시스템관리
| SCR ID | 화면명 | URL/Route(권장) | 주요 기능(요약) | 매핑 FR |
|---|---|---|---|---|
| SCR-151 | 사용자관리(운영자/위원) | /admin/system/users | 사용자 CRUD/비활성/초기화, 위원 배정범위(가능시) | FR-01, FR-18, FR-20, FR-17 |
| SCR-152 | 로그인현황(옵션) | /admin/system/login-status | 로그인 성공/실패/잠금 현황 | FR-01, FR-17, FR-20 |
| SCR-153 | 시스템작업로그 | /admin/system/audit-logs | 작업로그 조회(기간/사용자/메뉴/유형) | FR-01, FR-17, FR-20 |
| SCR-154 | 공통코드관리(필수 최소) | /admin/system/codes | 코드그룹/상세코드 CRUD | FR-01, FR-19, FR-20, FR-17 |
| SCR-155 | 분류코드관리(분류관리) | /admin/system/classifications | 트리 관리(등록/수정/비활성/검색/정렬) | FR-01, FR-13, FR-20, FR-17 |

### 2.3 위원
| SCR ID | 화면명 | Role | URL/Route(권장) | 주요 기능(요약) | 매핑 FR |
|---|---|---|---|---|---|
| SCR-201 | 출제하기(의뢰목록/작성) | 위원 | /cmit/make | 본인 의뢰만 조회, 임시저장/제출, 반려 재제출 | FR-01, FR-08, FR-09, FR-10, FR-16, FR-20 |
| SCR-202 | 검토하기(의뢰목록/제출) | 위원 | /cmit/review | 본인 의뢰만 조회, 결과+의견 제출, 재처리 | FR-01, FR-08, FR-09, FR-10, FR-20 |
| SCR-203 | 선정하기(의뢰목록/제출) | 위원 | /cmit/select | 본인 의뢰만 조회, 선정/예비/제외+사유 제출 | FR-01, FR-08, FR-09, FR-20 |

---

## 3. 화면-기능 매핑(요약 뷰)

> 빠르게 영향 범위를 보기 위한 요약입니다.

- 인증/권한 공통: SCR-001~003, 모든 관리자/위원 화면 → **FR-01**
- 계획(출제/검토/선정): SCR-101/111/121 → **FR-05, FR-06**
- 의뢰(출제/검토/선정): SCR-102/112/122 → **FR-07, FR-08, FR-10**
- 위원 수행: SCR-201/202/203 → **FR-08, FR-09, FR-10**
- 현황/집계: SCR-103/113/123(+옵션 142) → **FR-11**
- 문항/분류 핵심: SCR-141, SCR-155 → **FR-12, FR-13**
- 시험지: SCR-131 → **FR-14, FR-15**
- 첨부: (문항/시험지/의뢰 화면에서) → **FR-16**
- 감사로그/조회: SCR-153(+전 기능 이벤트) → **FR-17**
- 사용자/코드: SCR-151/154 → **FR-18, FR-19**

---

## 4. 구현 시 체크(권장)

- **권한/데이터 범위 검증은 서버에서 최종**(화면 숨김만으로는 불충분)
- 상태 잠금(확정/마감) 시 **버튼/입력 제어 + API에서도 동일 제어**
- `USERID` 타입이 테이블마다 `bigint`/`varchar`가 혼재 → 실제 FK 확정 전 **정합성 점검** 권장

