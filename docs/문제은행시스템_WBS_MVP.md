# 문제은행시스템 WBS (MVP)

> 기준: `kr.co.iosys`, `common.class`, `common.code`, `content(quiz/test)`, `makeq/invq/quizsel`, Token(재발행) 인증

---

## 0. 프로젝트 관리

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 0.1 | 킥오프/범위 확정 | MVP 범위/일정/역할(R&R) | - |
| 0.2 | 표준/가이드 확정 | 코딩스타일/기술스택/패키지표준 | 0.1 |
| 0.3 | 백로그/우선순위 | 화면목록+FR 매핑, WBS 확정 | 0.1 |

---

## 1. 공통 기반(프로젝트 뼈대)

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 1.1 | 레포/모듈 초기화 | FE(Vite+Vue), BE(SpringBoot) 프로젝트 생성 | 0.2 |
| 1.2 | 환경 분리 | dev/stg/prod 설정, 환경변수 정책 | 1.1 |
| 1.3 | 공통 응답/예외 | 공통 응답 래퍼, ErrorCode, GlobalExceptionHandler | 1.1 |
| 1.4 | 로깅 기본 | Logback 설정, requestId/MDC(선택) | 1.1 |
| 1.5 | API 문서 | Swagger(springdoc) 기본 구성 | 1.1 |

---

## 2. 인증/인가(Token + Refresh) + RBAC

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 2.1 | Token 설계 | Access/Refresh 정책, 만료/회전/폐기 규칙 | 1.2 |
| 2.2 | Spring Security(Stateless) | Bearer Token 필터, Principal 구성 | 2.1 |
| 2.3 | Auth API | `/api/auth/login`, `/api/auth/refresh`, `/api/auth/logout` | 2.2 |
| 2.4 | RBAC 모델 | Role/Perm/Menu/Disp 매핑(조회/검증) | 2.2 |
| 2.5 | 권한 체크 공통화 | 컨트롤러/어노테이션/인터셉터 방식 확정 및 적용 | 2.4 |
| 2.6 | FE 인증 처리 | Axios 인터셉터(401→refresh→재시도), 라우터가드 | 2.3 |

---

## 3. 공통 마스터: common.code / common.class

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 3.1 | 공통코드(common.code) | 코드그룹/상세 CRUD, 조회 API, 관리자 UI | 2.5 |
| 3.2 | 분류트리(common.class) | 트리 조회(전체/지연), 검색, CRUD/비활성 정책 | 2.5 |
| 3.3 | FE 트리 컴포넌트 | 좌트리 공통 컴포넌트(검색/하이라이트/선택) | 3.2 |
| 3.4 | 코드/분류 연동 | 코드명 `_Nm` 규칙 적용, 공통 select/필터 제공 | 3.1, 3.2 |

---

## 4. 콘텐츠 통합: content.quiz(문항) + content.test(시험지)

### 4.1 content.quiz (문항관리)

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 4.1.1 | 문항 목록/검색 API | 페이징/정렬/필터(분류/하위포함/상태/난이도/유형/키워드) | 3.2, 3.4 |
| 4.1.2 | 문항 상세 API | 상세 조회, 상태/이력 기본 | 4.1.1 |
| 4.1.3 | 문항 CRUD | 등록/수정/논리삭제, 상태전이 최소 | 4.1.2 |
| 4.1.4 | 첨부/참고자료(선택) | 업로드/다운로드, 권한/로그 | 4.1.3 |
| 4.1.5 | 문항관리 화면 | 좌트리/우검색/목록/상세(탭) MVP UI | 3.3, 4.1.1 |

### 4.2 content.test (시험지관리)

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 4.2.1 | 시험지 마스터 API | 생성/수정/조회/확정(잠금) | 2.5 |
| 4.2.2 | 편성(REL) API | 문항 추가/삭제/순서/배점/표기번호 | 4.2.1, 4.1.1 |
| 4.2.3 | 양식(TLF) API(선택) | 템플릿 목록/등록/적용 이력 | 4.2.1 |
| 4.2.4 | 내보내기/출력(최소) | 1개 포맷, 로그 기록 | 4.2.2 |
| 4.2.5 | 시험지관리 화면 | 목록/상세/편성 UI(문항검색 패널 재사용) | 4.2.2, 4.1.1 |

---

## 5. 업무 프로세스: makeq / invq / quizsel (계획→의뢰→수행→현황)

### 5.1 makeq (출제/개발)

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 5.1.1 | 계획 관리 | 계획 CRUD + 확정/마감 | 2.5 |
| 5.1.2 | 의뢰/배정 | 위원 배정/발송/마감/반려(사유) | 5.1.1 |
| 5.1.3 | 수행(위원) | 위원 작업 화면/제출/재제출 | 5.1.2, 4.1.x |
| 5.1.4 | 현황 | 계획/위원 단위 진행률 | 5.1.2 |

### 5.2 invq (검토/심사)

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 5.2.1 | 계획 관리 | 계획 CRUD + 확정/마감 | 2.5 |
| 5.2.2 | 의뢰/배정 | 대상 문항 배정/결과 제출(통과/수정필요/부적합) | 5.2.1, 4.1.x |
| 5.2.3 | 현황 | 결과/진행률 집계 | 5.2.2 |

### 5.3 quizsel (선정)

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 5.3.1 | 계획 관리 | 계획 CRUD + 확정/마감 | 2.5 |
| 5.3.2 | 후보 풀/선정 처리 | 선정/예비/제외 + 사유 | 5.3.1, 4.1.x |
| 5.3.3 | 현황 | 충족률/완료율(최소) | 5.3.2 |

---

## 6. 시스템관리(system) + 로그

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 6.1 | 사용자관리 | 운영자/위원 CRUD/비활성/비번초기화 | 2.4 |
| 6.2 | 메뉴/화면 권한 | mnu/disp/perms 관리, 메뉴 노출 연동 | 2.4 |
| 6.3 | 접속로그/작업로그 | 조회 화면 + 적재(주요 이벤트) | 1.4, 2.5 |
| 6.4 | 엑셀/다운로드 로그 | 내보내기 사유/파일경로 기록(정책) | 6.3 |

---

## 7. 테스트/검증/배포

| WBS ID | 작업 | 산출물 | 선행 |
|---|---|---|---|
| 7.1 | 단위/통합 테스트 | 핵심 서비스/권한/토큰 재발행 테스트 | 2~6 |
| 7.2 | 보안 점검 | 권한 우회/토큰 만료/refresh 재사용 케이스 | 2 |
| 7.3 | 성능/부하(선택) | 목록/검색/트리 조회 성능 점검 | 3~5 |
| 7.4 | 배포 파이프라인 | 빌드/배포 절차서, 환경별 설정 | 1.2 |
| 7.5 | 운영 문서 | 설치/운영/장애대응(최소) | 7.4 |

---

## 부록: 적용 순서(권장)
- MVP 1차 릴리즈 권장 순서: **2(인증/RBAC) → 3(코드/분류) → 4(content) → 5(업무) → 6(시스템) → 7(검증/배포)**
- `content.test(편성)`은 `content.quiz(검색)` 의존이 강하므로 4.1 선행을 권장한다.
